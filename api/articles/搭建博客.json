{"title":"搭建博客","slug":"搭建博客","date":"2025-03-14T02:51:27.000Z","updated":"2025-05-05T04:30:44.385Z","comments":true,"path":"api/articles/搭建博客.json","photos":[],"excerpt":"先导Hexo是一款基于Node.js的静态博客框架, 依赖少易于安装使用, 可以方便的生成静态网页托管在GitHub和Coding上, 是搭建博客的首选框架。 本文记录了通过Hexo搭建博客的全过程, 汇总了一些搭建过程中找到的资料, 希望能给同样想要搭建博客的同学们一点帮助 [Figure] ","covers":["/../Asset/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/image.png","/../Asset/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/example.png"],"content":"<h1 id=\"先导\"><a href=\"#先导\" class=\"headerlink\" title=\"先导\"></a>先导</h1><p>Hexo是一款基于Node.js的静态博客框架, 依赖少易于安装使用, 可以方便的生成静态网页托管在GitHub和Coding上, 是搭建博客的首选框架。 </p>\n<p>本文记录了通过Hexo搭建博客的全过程, 汇总了一些搭建过程中找到的资料, 希望能给同样想要搭建博客的同学们一点帮助</p>\n<p><img src=\"/../Asset/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/image.png\" alt=\"image\"></p>\n<span id=\"more\"></span>\n\n<h1 id=\"为什么要搭建博客\"><a href=\"#为什么要搭建博客\" class=\"headerlink\" title=\"为什么要搭建博客\"></a>为什么要搭建博客</h1><p>主要是记录一些日常学习的感受和完成lab的思路, 包括各类的笔记也会发布到本博客上, 本博客基本上都是从之前在飞书中记录的文章搬运过来的, 所以本博客的更新会稍慢于飞书。</p>\n<h1 id=\"如何搭建\"><a href=\"#如何搭建\" class=\"headerlink\" title=\"如何搭建\"></a>如何搭建</h1><h2 id=\"（1）基础安装\"><a href=\"#（1）基础安装\" class=\"headerlink\" title=\"（1）基础安装\"></a>（1）基础安装</h2><h3 id=\"安装Git\"><a href=\"#安装Git\" class=\"headerlink\" title=\"安装Git\"></a>安装Git</h3><p>Git是目前世界上最先进的分布式版本控制系统, 可以高效地进行项目版本管理。可以用来管理你的hexo博客文章, 上传到GitHub的工具。</p>\n<p>Windows: 直接到git官网上下载, 下载后会有一个Git Bash的命令行工具, 以后就用这个工具来使用git。</p>\n<p>Linux: 直接输入命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install git</span><br></pre></td></tr></table></figure>\n<p>安装后使用</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git --version</span><br></pre></td></tr></table></figure>\n<p>查看当前版本</p>\n<h3 id=\"安装NodeJS\"><a href=\"#安装NodeJS\" class=\"headerlink\" title=\"安装NodeJS\"></a>安装NodeJS</h3><p>Hexo是基于NodeJS编写的, 所以需要安装一下NodeJS和里面的npm工具。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install nodejs</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install npm</span><br></pre></td></tr></table></figure>\n<p>之后使用</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node -v</span><br><span class=\"line\">npm -v</span><br></pre></td></tr></table></figure>\n<p>查看当前版本</p>\n<h3 id=\"安装Hexo\"><a href=\"#安装Hexo\" class=\"headerlink\" title=\"安装Hexo\"></a>安装Hexo</h3><p>前面git和nodejs安装好后, 就可以安装hexo了</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n<p>之后使用</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo -v</span><br></pre></td></tr></table></figure>\n<p>查看当前版本</p>\n<p>之后我们创建一个文件夹用来存放我们的博客 YourBlog 然后CD进入该文件夹执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init YourBlog</span><br></pre></td></tr></table></figure>\n<p>这个YourBlog可以自己取什么名字都行, 然后</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> YourBlog</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n<p>新建完成后, 指定文件夹目录下有: </p>\n<ul>\n<li>node_modules: 依赖包</li>\n<li>public: 存放生成的页面</li>\n<li>scaffolds: 生成文章的一些模板</li>\n<li>source: 用来存放你的文章</li>\n<li>themes: 主题</li>\n<li>_config.yml: 博客的配置文件</li>\n</ul>\n<p>打开hexo的服务</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure>\n<p>然后浏览器中输入localhost:4000就能看见博客了</p>\n<h2 id=\"（2）Github部署\"><a href=\"#（2）Github部署\" class=\"headerlink\" title=\"（2）Github部署\"></a>（2）Github部署</h2><h3 id=\"创建github账号和仓库\"><a href=\"#创建github账号和仓库\" class=\"headerlink\" title=\"创建github账号和仓库\"></a>创建github账号和仓库</h3><p>首先, 注册Github账号。</p>\n<p>注册完登录后, 在网站中点击New repository, 新建仓库</p>\n<p>我们创建两个仓库, 分别是</p>\n<ol>\n<li>YourBlog, 用来存我们的Hexo源文件</li>\n<li>YourName.github.io, 用来存放生成的静态博客文件</li>\n</ol>\n<h3 id=\"本地设置\"><a href=\"#本地设置\" class=\"headerlink\" title=\"本地设置\"></a>本地设置</h3><p>然后回到bash输入</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">\"yourname\"</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"youremail\"</span> </span><br></pre></td></tr></table></figure>\n<p>yourname输入GitHub用户名, youremail输入GitHub的邮箱。</p>\n<h3 id=\"创建SSH密钥\"><a href=\"#创建SSH密钥\" class=\"headerlink\" title=\"创建SSH密钥\"></a>创建SSH密钥</h3><p>输入</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -b 4096 -C <span class=\"string\">\"your_email@example.com\"</span></span><br></pre></td></tr></table></figure>\n<p>接着一路回车。生成的密钥默认存放在 ~/.ssh/id_rsa 和 ~/.ssh/id_rsa.pub</p>\n<p>将公钥 (id_rsa.pub) 添加到 YourName.github.io 仓库的 Deploy Keys: </p>\n<ol>\n<li>进入 YourName.github.io 仓库 -&gt; Settings -&gt; Deploy Keys -&gt; Add deploy key</li>\n<li>添加 id_rsa.pub 的内容, 并勾选 Allow write access。</li>\n</ol>\n<p>将私钥 (id_rsa) 添加到 YourBlog 仓库的 GitHub Secrets: </p>\n<ol>\n<li>进入 YourBlog 仓库 -&gt; Settings -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret</li>\n<li>Secret 名称: DEPLOY_KEY</li>\n<li>Secret 值: 粘贴 id_rsa 的内容</li>\n</ol>\n<h3 id=\"配置GitHub-Actions\"><a href=\"#配置GitHub-Actions\" class=\"headerlink\" title=\"配置GitHub Actions\"></a>配置GitHub Actions</h3><p>在你YourBlog仓库中, 创建一个新的 GitHub Actions Workflow 文件: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.github/workflows/deploy.yml</span><br></pre></td></tr></table></figure>\n<p>然后向该文件输入: </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Deploy</span> <span class=\"string\">Hexo</span> <span class=\"string\">Blog</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span>  <span class=\"comment\"># 这里的 main 需要根据你的仓库实际主分支修改</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Checkout</span> <span class=\"string\">Repository</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v4</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Setup</span> <span class=\"string\">Node.js</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">node-version:</span> <span class=\"string\">'18.19.1'</span>  <span class=\"comment\"># 这里可以使用你的 Node.js 版本</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Install</span> <span class=\"string\">Hexo</span> <span class=\"string\">CLI</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">npm</span> <span class=\"string\">install</span> <span class=\"string\">-g</span> <span class=\"string\">hexo-cli</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Install</span> <span class=\"string\">Git</span> <span class=\"string\">Deployer</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">npm</span> <span class=\"string\">install</span> <span class=\"string\">hexo-deployer-git</span> <span class=\"string\">--save</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Install</span> <span class=\"string\">Dependencies</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">npm</span> <span class=\"string\">install</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Clean</span> <span class=\"string\">Hexo</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">hexo</span> <span class=\"string\">clean</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Generate</span> <span class=\"string\">Hexo</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">hexo</span> <span class=\"string\">generate</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Configure</span> <span class=\"string\">Git</span>  <span class=\"comment\"># 解决 \"Author identity unknown\" 问题</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          git config --global user.name \"GitHub Actions\"</span></span><br><span class=\"line\"><span class=\"string\">          git config --global user.email \"github-actions@github.com\"</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Setup</span> <span class=\"string\">SSH</span></span><br><span class=\"line\">        <span class=\"attr\">env:</span></span><br><span class=\"line\">          <span class=\"attr\">DEPLOY_KEY:</span> <span class=\"string\">${{</span> <span class=\"string\">secrets.DEPLOY_KEY</span> <span class=\"string\">}}</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          mkdir -p ~/.ssh</span></span><br><span class=\"line\"><span class=\"string\">          echo \"$DEPLOY_KEY\" &gt; ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">          chmod 600 ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Force</span> <span class=\"string\">Git</span> <span class=\"string\">to</span> <span class=\"string\">use</span> <span class=\"string\">SSH</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">git</span> <span class=\"string\">remote</span> <span class=\"string\">set-url</span> <span class=\"string\">origin</span> <span class=\"string\">git@github.com:YourName/YourName.github.io.git</span> <span class=\"comment\">#YourName 改为自己的GitHub用户名</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Deploy</span> <span class=\"string\">Hexo</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">hexo</span> <span class=\"string\">deploy</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"修改-config-yml\"><a href=\"#修改-config-yml\" class=\"headerlink\" title=\"修改 _config.yml\"></a>修改 _config.yml</h3><p>在YourBlog文件夹下, 找到_config.yml, 修改其中的deploy为: </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">git@github.com:YourName/YourName.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"提交代码触发-GitHub-Actions\"><a href=\"#提交代码触发-GitHub-Actions\" class=\"headerlink\" title=\"提交代码触发 GitHub Actions\"></a>提交代码触发 GitHub Actions</h3><p>在YourBlog文件夹下输入: </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init</span><br><span class=\"line\">git remote add origin https://github.com/YourName/YourBlog.git</span><br><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">\"Update Hexo blog\"</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n\n<p>此后你每次提交到Github, GitHub Actions都会自动自动部署GitHub Pages, 博客上线</p>\n<h1 id=\"美化\"><a href=\"#美化\" class=\"headerlink\" title=\"美化\"></a>美化</h1><p>此博客使用的是<a href=\"https://github.com/HeskeyBaozi/hexo-theme-lite\">lite</a>美化, 根据其中的README进行美化即可</p>\n<p>注意! 使用 Github Actions部署, 需要将themes/lite也通过git一同上传到仓库, 否则生成的html文件全是空的!</p>\n<p>建议美化完输入以下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">rm</span> -rf themes/lite/.git</span><br><span class=\"line\">git add themes/lite</span><br><span class=\"line\">git commit -m <span class=\"string\">\"Add lite theme\"</span></span><br><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n\n<p>最终效果:<img src=\"/../Asset/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/example.png\" alt=\"example\"></p>\n","categories":[{"name":"Blog","slug":"Blog","count":1,"path":"api/categories/Blog.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"},{"name":"Blog","slug":"Blog","count":1,"path":"api/tags/Blog.json"}]}